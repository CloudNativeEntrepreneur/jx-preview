.TH "PREVIEW" "1" "" "Auto generated by spf13/cobra" "" 
.nh
.ad l


.SH NAME
.PP
preview \- Creates or updates a Preview Environment for the current version of an application


.SH SYNOPSIS
.PP
\fBpreview\fP


.SH DESCRIPTION
.PP
Creates or updates a Preview Environment for the given Pull Request or Branch.

.PP
For more documentation on Preview Environments see: 
\[la]https://jenkins-x.io/about/features/#preview-environments\[ra]


.SH OPTIONS
.PP
\fB\-\-alias\fP=""
    The optional alias used in the 'requirements.yaml' file

.PP
\fB\-a\fP, \fB\-\-app\fP=""
    The Application to promote

.PP
\fB\-b\fP, \fB\-\-batch\-mode\fP[=false]
    Runs in batch mode without prompting for user input

.PP
\fB\-\-build\fP=""
    The Build number which is used to update the PipelineActivity. If not specified its defaulted from  the '$BUILD\_NUMBER' environment variable

.PP
\fB\-c\fP, \fB\-\-cluster\fP=""
    The Kubernetes cluster for the Environment. If blank and a namespace is specified assumes the current cluster

.PP
\fB\-\-dev\-namespace\fP=""
    The Developer namespace where the preview command should run

.PP
\fB\-\-dir\fP=""
    The source directory used to detect the git source URL and reference

.PP
\fB\-\-domain\fP=""
    Domain to expose ingress endpoints.  Example: jenkinsx.io

.PP
\fB\-\-exposer\fP="Ingress"
    Used to describe which strategy exposecontroller should use to access applications

.PP
\fB\-f\fP, \fB\-\-filter\fP=""
    The search filter to find charts to promote

.PP
\fB\-r\fP, \fB\-\-helm\-repo\-name\fP="releases"
    The name of the helm repository that contains the app

.PP
\fB\-u\fP, \fB\-\-helm\-repo\-url\fP=""
    The Helm Repository URL to use for the App

.PP
\fB\-h\fP, \fB\-\-help\fP[=false]
    help for preview

.PP
\fB\-\-ignore\-local\-file\fP[=false]
    Ignores the local file system when deducing the Git repository

.PP
\fB\-\-ingress\-class\fP=""
    Used to set the ingress.class annotation in exposecontroller created ingress

.PP
\fB\-\-keep\-exposecontroller\-job\fP[=false]
    Prevents Helm deleting the exposecontroller Job and Pod after running.  Useful for debugging exposecontroller logs but you will need to manually delete the job if you update an environment

.PP
\fB\-l\fP, \fB\-\-label\fP=""
    The Environment label which is a descriptive string like 'Production' or 'Staging'

.PP
\fB\-n\fP, \fB\-\-name\fP=""
    The Environment resource name. Must follow the Kubernetes name conventions like Services, Namespaces

.PP
\fB\-\-namespace\fP=""
    The Kubernetes namespace for the Environment

.PP
\fB\-\-no\-comment\fP[=false]
    Disables commenting on the Pull Request after preview is created.

.PP
\fB\-\-no\-helm\-update\fP[=false]
    Allows the 'helm repo update' command if you are sure your local helm cache is up to date with the version you wish to promote

.PP
\fB\-\-no\-merge\fP[=false]
    Disables automatic merge of promote Pull Requests

.PP
\fB\-\-no\-poll\fP[=false]
    Disables polling for Pull Request or Pipeline status

.PP
\fB\-\-no\-wait\fP[=false]
    Disables waiting for completing promotion after the Pull request is merged

.PP
\fB\-\-pipeline\fP=""
    The Pipeline string in the form 'folderName/repoName/branch' which is used to update the PipelineActivity. If not specified its defaulted from  the '$BUILD\_NUMBER' environment variable

.PP
\fB\-\-post\-preview\-job\-timeout\fP="2h"
    The duration before we consider the post preview Jobs failed

.PP
\fB\-\-post\-preview\-poll\-time\fP="10s"
    The amount of time between polls for the post preview Job status

.PP
\fB\-\-pr\fP=""
    The Pull Request Name (e.g. 'PR\-23' or just '23'

.PP
\fB\-\-pr\-url\fP=""
    The Pull Request URL

.PP
\fB\-\-preview\-health\-timeout\fP="5m"
    The amount of time to wait for the preview application to become healthy

.PP
\fB\-\-pull\-request\-poll\-time\fP="20s"
    Poll time when waiting for a Pull Request to merge

.PP
\fB\-\-release\fP=""
    The name of the helm release

.PP
\fB\-\-skip\-availability\-check\fP[=false]
    Disables the mandatory availability check.

.PP
\fB\-\-skip\-deploy\fP[=false]
    Skips the helm deployment

.PP
\fB\-\-source\-ref\fP=""
    The source code git ref (branch/sha)

.PP
\fB\-s\fP, \fB\-\-source\-url\fP=""
    The source code git URL

.PP
\fB\-t\fP, \fB\-\-timeout\fP="1h"
    The timeout to wait for the promotion to succeed in the underlying Environment. The command fails if the timeout is exceeded or the promotion does not complete

.PP
\fB\-\-urltemplate\fP=""
    For ingress; exposers can set the urltemplate to expose

.PP
\fB\-\-verbose\fP[=false]
    Enables verbose output. The environment variable JX\_LOG\_LEVEL has precedence over this flag and allows setting the logging level to any value of: panic, fatal, error, warn, info, debug, trace

.PP
\fB\-v\fP, \fB\-\-version\fP=""
    The Version to promote


.SH EXAMPLE
.PP
# Create or updates the Preview Environment for the Pull Request
  jx preview


.SH SEE ALSO
.PP
\fBpreview\-version(1)\fP


.SH HISTORY
.PP
Auto generated by spf13/cobra
